<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Project Distributor</title>
    <style>
      :root { color-scheme: light dark; }
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'; margin: 0; padding: 2rem; line-height: 1.5; }
      .container { max-width: 900px; margin: 0 auto; }
      h1 { margin-top: 0; }
      .card { border: 1px solid #ddd; border-radius: 12px; padding: 1.25rem; margin: 1rem 0; }
      pre { background: rgba(127,127,127,.12); padding: 1rem; border-radius: 8px; overflow: auto; }
      a.button { display: inline-block; background: #0a7; color: white; padding: .6rem 1rem; border-radius: 8px; text-decoration: none; font-weight: 600; }
      .muted { opacity: .75; }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Project Distributor (OR-Tools)</h1>
      <p class="muted">Assign students to courses based on preferences using Google OR-Tools CP-SAT.</p>

      <div class="card">
        <h2>Use the interactive web app</h2>
        <p>
          Open the hosted app and upload a CSV like <code>examples/students.csv</code>.
        </p>
        <p>
          <a class="button" href="#" id="appLink" target="_blank" rel="noopener">Open Web App</a>
        </p>
        <p class="muted">
          Note: The app runs on a Python host (Streamlit/Spaces). GitHub Pages cannot execute Python, so this page serves as a landing page and documentation.
        </p>
      </div>

      <div class="card">
        <h2>Run locally (CLI)</h2>
        <p>Install dependencies and run the solver on a CSV file:</p>
        <pre><code>python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt

python project_distributor/ortools_solver.py examples/students.csv</code></pre>
      </div>

      <div class="card">
        <h2>Run the Web UI locally</h2>
        <pre><code>pip install -r requirements.txt
streamlit run app.py</code></pre>
      </div>

      <div class="card">
        <h2>CSV Format</h2>
        <p>
          The first row lists course names; each subsequent row lists a student name in the first column and preference ranks in following columns. See <code>examples/students.csv</code>.
        </p>
      </div>
    </div>

    <script>
      const url = '';
      if (url) {
        document.getElementById('appLink').href = url;
      } else {
        document.getElementById('appLink').addEventListener('click', function (e) {
          e.preventDefault();
          alert('Deployment URL not set yet. After deploying the Streamlit app, edit docs/index.html and set the app URL.');
        });
      }
    </script>
  </body>
  </html>
